# Reflexio 24/7 - Environment Configuration
# Copy this file to .env and fill in your values

# ==========================================
# CORE SETTINGS
# ==========================================
API_HOST=0.0.0.0
API_PORT=8000
API_URL=http://localhost:8000

# ==========================================
# AUTHENTICATION
# ==========================================
# API key for client authentication. If empty/unset, auth is disabled (dev mode).
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
# API_KEY=your-secret-api-key-here

# ==========================================
# SECURITY (P0-2: Rate Limiting)
# ==========================================
# Rate limiting configuration
RATE_LIMIT_ENABLED=true
RATE_LIMIT_STORAGE=memory  # Use "redis" for production with multiple instances
# REDIS_URL=redis://localhost:6379/0

# Individual endpoint limits
RATE_LIMIT_INGEST=10/minute
RATE_LIMIT_TRANSCRIBE=30/minute
RATE_LIMIT_DIGEST=60/minute
RATE_LIMIT_HEALTH=200/minute
RATE_LIMIT_DEFAULT=100/minute

# ==========================================
# SECURITY (P0-3: Secrets Management)
# ==========================================
# HashiCorp Vault configuration
VAULT_ENABLED=false  # Set to true for production
VAULT_ADDR=http://localhost:8200
# VAULT_TOKEN=your-vault-token
# VAULT_NAMESPACE=your-namespace  # For Vault Enterprise

# ==========================================
# SECURITY (P0-4: Input Validation & Guardrails)
# ==========================================
# Input Guard â€” Prompt Injection Protection
INPUT_GUARD_ENABLED=true
INPUT_BLOCK_CRITICAL=true
INPUT_BLOCK_HIGH=true
INPUT_SANITIZE=true
INPUT_MAX_LENGTH=10000

# Output Guardrails
GUARDRAILS_BLOCK_PII=true
GUARDRAILS_BLOCK_TOXIC=true
GUARDRAILS_MAX_OUTPUT_LENGTH=10000

# SAFE Security Framework
SAFE_MODE=audit  # strict | audit | disabled
SAFE_PII_MASK=true

# ==========================================
# LLM PROVIDERS (Required)
# ==========================================
LLM_PROVIDER=openai  # openai | anthropic
OPENAI_API_KEY=sk-your-openai-key-here
# ANTHROPIC_API_KEY=sk-your-anthropic-key-here

LLM_MODEL_ACTOR=gpt-4o-mini
LLM_MODEL_CRITIC=gpt-4o-mini
LLM_TEMPERATURE_ACTOR=0.3
LLM_TEMPERATURE_CRITIC=0.0

# ==========================================
# DATABASE
# ==========================================
DB_BACKEND=sqlite  # sqlite | supabase

# Supabase Configuration (for production)
# SUPABASE_URL=https://your-project.supabase.co
# SUPABASE_ANON_KEY=your-anon-key
# SUPABASE_SERVICE_KEY=your-service-key  # Keep secret! Server only!

# ==========================================
# OSINT & SEARCH (Optional)
# ==========================================
# BRAVE_API_KEY=your-brave-key
# BRIGHTDATA_API_KEY=your-brightdata-key
# BRIGHTDATA_PROXY_HTTP=http://proxy.example.com:8080
# BRIGHTDATA_ZONE=serp_api1

# ==========================================
# AUDIO PROCESSING
# ==========================================
AUDIO_SAMPLE_RATE=16000
AUDIO_VAD_AGGRESSIVENESS=2

# Speech Filter (optional)
FILTER_MUSIC=false
FILTER_METHOD=energy

# ==========================================
# STORAGE PATHS
# ==========================================
STORAGE_PATH=src/storage

# ==========================================
# LOGGING
# ==========================================
LOG_LEVEL=INFO

# ==========================================
# DEVELOPMENT ONLY
# ==========================================
# EXTENDED_METRICS=false
# USE_LLM_METRICS=false


# Privacy/Memory/Integrity
PRIVACY_MODE=audit  # strict | mask | audit
MEMORY_ENABLED=true
RETRIEVAL_ENABLED=true
INTEGRITY_CHAIN_ENABLED=true

