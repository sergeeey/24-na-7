# üîë –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–µ–π ‚Äî Reflexio 24/7

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –£ –Ω–∞—Å **–¥–≤–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö "–º–∏—Ä–∞" –∫–ª—é—á–µ–π**, –∏ –∏—Ö –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –ø–æ-—Ä–∞–∑–Ω–æ–º—É!

---

## üåç –î–≤–∞ –º–∏—Ä–∞ –∫–ª—é—á–µ–π

### –ú–∏—Ä 1: Python-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (FastAPI, OSINT, Supabase)

**–ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è:** `.env` —Ñ–∞–π–ª –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞  
**–ö—Ç–æ —á–∏—Ç–∞–µ—Ç:** –í–∞—à Python-–∫–æ–¥ (`src/utils/config.py`)  
**–ö–æ–≥–¥–∞ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è:** –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –ú–∏—Ä 2: MCP-—Å–µ—Ä–≤–µ—Ä—ã Cursor (Brave, Bright Data –∫–∞–∫ MCP)

**–ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è:** –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Cursor (Settings ‚Üí MCP) –∏–ª–∏ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ  
**–ö—Ç–æ —á–∏—Ç–∞–µ—Ç:** Cursor Editor (–Ω–µ —á–∏—Ç–∞–µ—Ç `.env` –ø—Ä–æ–µ–∫—Ç–∞!)  
**–ö–æ–≥–¥–∞ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è:** –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ Cursor / –ø–æ—Å–ª–µ Reload Window

---

## üìù –ú–∏—Ä 1: Python-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (`.env` —Ñ–∞–π–ª)

### –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ

–§–∞–π–ª **`.env`** –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **–≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞** (—Ç–∞–º –∂–µ, –≥–¥–µ `README.md`, `docker-compose.yml`).

```
24 na 7/
‚îú‚îÄ‚îÄ .env                    ‚Üê –ó–î–ï–°–¨!
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ src/
‚îî‚îÄ‚îÄ ...
```

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

```bash
# ============================================================
# Database (Supabase)
# ============================================================
DB_BACKEND=supabase
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_ROLE=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...  # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

# ============================================================
# LLM Providers
# ============================================================
LLM_PROVIDER=openai
OPENAI_API_KEY=sk-...
# –ò–õ–ò
# LLM_PROVIDER=anthropic
# ANTHROPIC_API_KEY=sk-...

# ============================================================
# MCP/OSINT HTTP-–∫–ª–∏–µ–Ω—Ç—ã (–¥–ª—è –ø—Ä—è–º–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ Python)
# ============================================================
BRAVE_API_KEY=...
BRIGHTDATA_API_KEY=...
BRIGHTDATA_PROXY_HTTP=http://user:pass@host:port  # –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å proxy-—Ä–µ–∂–∏–º
BRIGHTDATA_PROXY_WS=wss://...                      # –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å WS-—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥

# ============================================================
# Security & Validation
# ============================================================
SAFE_MODE=strict
SAFE_PII_MASK=1

# ============================================================
# Logging
# ============================================================
LOG_LEVEL=INFO
```

### –ü—Ä–∞–≤–∏–ª–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è `.env`

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ:**
```bash
OPENAI_API_KEY=sk-abc123xyz
SUPABASE_URL=https://project.supabase.co
```

‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
```bash
OPENAI_API_KEY="sk-abc123xyz"    # –ë–µ–∑ –∫–∞–≤—ã—á–µ–∫!
OPENAI_API_KEY = sk-abc123xyz    # –ë–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤ –≤–æ–∫—Ä—É–≥ =
OPENAI_API_KEY=sk-abc123xyz     # –ë–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤ –≤ –∫–æ–Ω—Ü–µ
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ `.env`

```bash
# –ò–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
python -c "from src.utils.config import settings; import json; print(json.dumps(settings.model_dump(), ensure_ascii=False, indent=2))"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –í–∏–¥–Ω—ã –≤–∞—à–∏ –∑–Ω–∞—á–µ–Ω–∏—è (–º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ/–æ–±—Ä–µ–∑–∞–Ω–Ω—ã–µ –¥–æ–ø—É—Å—Ç–∏–º–æ)

**–ï—Å–ª–∏ –ø—É—Å—Ç–æ –∏–ª–∏ None:**
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
- –ü—Ä–æ–≤–µ—Ä—å –∫–æ–¥–∏—Ä–æ–≤–∫—É (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å UTF-8)
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –Ω–µ—Ç –∫–∞–≤—ã—á–µ–∫ –≤–æ–∫—Ä—É–≥ –∑–Ω–∞—á–µ–Ω–∏–π
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –Ω–µ—Ç –ø—Ä–æ–±–µ–ª–æ–≤ –≤–æ–∫—Ä—É–≥ `=`
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ `src/utils/config.py` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `env_file='.env'`

---

## üîß –ú–∏—Ä 2: MCP-—Å–µ—Ä–≤–µ—Ä—ã Cursor

### –í–∞–∂–Ω–æ

**MCP-—Å–µ—Ä–≤–µ—Ä—ã Cursor –ù–ï —á–∏—Ç–∞—é—Ç `.env` —Ñ–∞–π–ª –ø—Ä–æ–µ–∫—Ç–∞!**  
–ò—Ö –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Cursor.

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ Cursor

1. **–û—Ç–∫—Ä–æ–π Cursor Settings:**
   - Cmd/Ctrl + , (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
   - –ò–ª–∏: `File ‚Üí Preferences ‚Üí Settings`

2. **–ü–µ—Ä–µ–π–¥–∏ –≤ MCP:**
   - –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª `Features ‚Üí MCP` –∏–ª–∏ `MCP Servers`
   - –ò–ª–∏: `Cursor Settings ‚Üí MCP ‚Üí Configure`

3. **–î–ª—è –∫–∞–∂–¥–æ–≥–æ MCP-—Å–µ—Ä–≤–µ—Ä–∞ (Brave, Bright Data):**
   - –í–∫–ª—é—á–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä (enabled: true)
   - –î–æ–±–∞–≤—å—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã/–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
     - `BRAVE_API_KEY`
     - `BRIGHTDATA_API_KEY` (–∏–ª–∏ `BRIGHTDATA_PROXY_HTTP`/`BRIGHTDATA_PROXY_WS`)

4. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ:**
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
   - –í—ã–ø–æ–ª–Ω–∏—Ç–µ: `Cmd/Ctrl + Shift + P` ‚Üí `Developer: Reload Window`

5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ —Å–ø–∏—Å–æ–∫ MCP —Å–µ—Ä–≤–µ—Ä–æ–≤
   - –û–±–∞ —Å–µ—Ä–≤–µ—Ä–∞ (brave, brightdata) –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å **–∑–µ–ª—ë–Ω—ã–º–∏**
   - –ï—Å–ª–∏ –∫—Ä–∞—Å–Ω—ã–µ ‚Üí —Å–º–æ—Ç—Ä–∏—Ç–µ `View ‚Üí Output ‚Üí MCP Logs`

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

–í–º–µ—Å—Ç–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫ Cursor –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–∏—Å—Ç–µ–º—ã:

**Linux/macOS:**
```bash
export BRAVE_API_KEY=...
export BRIGHTDATA_API_KEY=...
# –ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç—å Cursor –∏–∑ —ç—Ç–æ–≥–æ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
```

**Windows (PowerShell):**
```powershell
$env:BRAVE_API_KEY="..."
$env:BRIGHTDATA_API_KEY="..."
# –ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç—å Cursor –∏–∑ —ç—Ç–æ–≥–æ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
```

**Windows (CMD):**
```cmd
set BRAVE_API_KEY=...
set BRIGHTDATA_API_KEY=...
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ MCP –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ + –∫–ª—é—á–∏)

```bash
@playbook validate-mcp-config
```

**–û—Ç—á—ë—Ç:** `.cursor/audit/mcp_config_validation.md`

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –Ω–µ—Ç –æ—à–∏–±–æ–∫ –ø–æ `brave`/`brightdata`.

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ MCP/Proxy

```bash
@playbook validate-mcp
@playbook proxy-diagnostics
@playbook serp-diagnostics
```

**–û—Ç—á—ë—Ç—ã:**
- `.cursor/audit/proxy_diagnostics.md`
- `.cursor/audit/serp_diagnostics.md`

### 3. –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ API –∫–ª—é—á–µ–π

```bash
python scripts/check_api_keys.py
```

**–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:**
- Python `.env` —Ñ–∞–π–ª
- –°—Ç—Ä—É–∫—Ç—É—Ä—É `.cursor/mcp.json`
- –ù–∞–ª–∏—á–∏–µ –∫–ª—é—á–µ–π –≤ –æ–±–æ–∏—Ö "–º–∏—Ä–∞—Ö"
- –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–æ–≤

---

## üö® –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

### –û—à–∏–±–∫–∞: "Cursor –Ω–∏—á–µ–≥–æ –Ω–µ —Å–¥–µ–ª–∞–ª"

**–ü—Ä–∏—á–∏–Ω—ã:**

1. **–°–æ–∑–¥–∞–Ω `.env.example`, –∞ –Ω–µ `.env`**
   - ‚úÖ –†–µ—à–µ–Ω–∏–µ: –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` (–±–µ–∑ `.example`)

2. **–§–∞–π–ª –Ω–µ –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞**
   - ‚úÖ –†–µ—à–µ–Ω–∏–µ: –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ –≤ –∫–æ—Ä–µ–Ω—å (—Ä—è–¥–æ–º —Å `README.md`)

3. **MCP –Ω–µ —á–∏—Ç–∞–µ—Ç `.env` –ø—Ä–æ–µ–∫—Ç–∞**
   - ‚úÖ –†–µ—à–µ–Ω–∏–µ: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–ª—é—á–∏ –≤ Cursor Settings ‚Üí MCP

4. **–ù–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–µ–Ω–æ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞**
   - ‚úÖ –†–µ—à–µ–Ω–∏–µ: `Cmd/Ctrl + Shift + P` ‚Üí `Developer: Reload Window`

5. **Docker –Ω–µ –≤–∏–¥–∏—Ç `.env`**
   - ‚úÖ –†–µ—à–µ–Ω–∏–µ: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `docker-compose.yml` ‚Äî –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `env_file: .env` –∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `environment:`

6. **–û–ø–µ—á–∞—Ç–∫–∏ –≤ –∏–º–µ–Ω–∞—Ö**
   - ‚úÖ –†–µ—à–µ–Ω–∏–µ: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ: `BRAVE_API_KEY`, `BRIGHTDATA_API_KEY`, `SUPABASE_URL`, `SUPABASE_ANON_KEY`

7. **–ö–∞–≤—ã—á–∫–∏/–ø—Ä–æ–±–µ–ª—ã –≤ `.env`**
   - ‚úÖ –†–µ—à–µ–Ω–∏–µ: –£–±–µ—Ä–∏—Ç–µ –∫–∞–≤—ã—á–∫–∏, —É–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–±–µ–ª—ã –≤–æ–∫—Ä—É–≥ `=`

8. **Proxy-—Ä–µ–∂–∏–º Bright Data**
   - ‚úÖ –†–µ—à–µ–Ω–∏–µ: –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–æ–∫—Å–∏, –∑–∞–¥–∞–π—Ç–µ `BRIGHTDATA_PROXY_HTTP`, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ `BRIGHTDATA_API_KEY`

---

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ Python-–∫–æ–Ω—Ñ–∏–≥–∞

```bash
python -c "from src.utils.config import settings; import json; print(json.dumps(settings.model_dump(), ensure_ascii=False, indent=2))"
```

**–ß—Ç–æ —Å–º–æ—Ç—Ä–µ—Ç—å:**
- –ó–Ω–∞—á–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω—ã (–Ω–µ `None`)
- –ö–ª—é—á–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –æ–∂–∏–¥–∞–µ–º—ã–º

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ MCP –ª–æ–≥–æ–≤

1. –í Cursor: `View ‚Üí Output`
2. –í—ã–±–µ—Ä–∏—Ç–µ `MCP` –∏–∑ –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫
4. –ò—â–∏—Ç–µ –æ—à–∏–±–∫–∏ —Ç–∏–ø–∞:
   - `missing API key`
   - `authentication failed`
   - `environment variable not set`

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã MCP

```bash
python -c "import json; from pathlib import Path; mcp = json.loads(Path('.cursor/mcp.json').read_text()); print(json.dumps(mcp, indent=2, ensure_ascii=False))"
```

**–ß—Ç–æ —Å–º–æ—Ç—Ä–µ—Ç—å:**
- `mcpServers.brave.enabled = true`
- `mcpServers.brightdata.enabled = true`
- –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ JSON

---

## üìä –ò—Ç–æ–≥–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ Python-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
python scripts/check_api_keys.py

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ MCP –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
@playbook validate-mcp-config

# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
@playbook validate-mcp

# 4. OSINT –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å
python scripts/check_osint_readiness.py
```

–í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å ‚úÖ.

---

## üéØ Quick Reference

| –ú–∏—Ä | –ì–¥–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å | –ö—Ç–æ —á–∏—Ç–∞–µ—Ç | –§–∞–π–ª/–ú–µ—Å—Ç–æ |
|-----|----------------|------------|------------|
| **Python** | `.env` –≤ –∫–æ—Ä–Ω–µ | Python –∫–æ–¥ | `.env` |
| **MCP Cursor** | Cursor Settings | Cursor Editor | Settings ‚Üí MCP |

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 3 –Ω–æ—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Production Ready











