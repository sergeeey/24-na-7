# GitHub Actions Workflows ‚Äî Reflexio 24/7

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π CI/CD –ø–∞–π–ø–ª–∞–π–Ω –¥–ª—è Reflexio 24/7**

---

## üöÄ Workflows

### `deploy.yml` ‚Äî –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π

**–¢—Ä–∏–≥–≥–µ—Ä—ã:**
- Push –≤ `main` –∏–ª–∏ `production` –≤–µ—Ç–∫–∏
- Pull Request –≤ `main`
- –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ `workflow_dispatch`

**–≠—Ç–∞–ø—ã:**

1. **verify** ‚Äî –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ —Ç–µ—Å—Ç—ã
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ API –∫–ª—é—á–µ–π
   - –§–∏–Ω–∞–ª—å–Ω–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
   - –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω–≤–µ–π–µ—Ä–∞

2. **deploy** ‚Äî –î–µ–ø–ª–æ–π (—Ç–æ–ª—å–∫–æ –¥–ª—è main/production)
   - –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–æ–≤
   - –ó–∞–ø—É—Å–∫ first_launch
   - –û—Ç–ø—Ä–∞–≤–∫–∞ –º–µ—Ç—Ä–∏–∫ –≤ Supabase

3. **notify** ‚Äî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
   - –°–æ–∑–¥–∞–Ω–∏–µ summary –æ—Ç—á—ë—Ç–∞

---

## üîê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Secrets

–í GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏: **Settings ‚Üí Secrets and variables ‚Üí Actions**

–î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ secrets:

| Secret | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|--------|----------|--------|
| `SUPABASE_URL` | URL –ø—Ä–æ–µ–∫—Ç–∞ Supabase | `https://xxx.supabase.co` |
| `SUPABASE_ANON_KEY` | Anon –∫–ª—é—á Supabase | `eyJhbGci...` |
| `OPENAI_API_KEY` | OpenAI API –∫–ª—é—á | `sk-proj-...` |
| `DOCKER_HUB_USERNAME` | (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) Docker Hub username | `yourusername` |
| `DOCKER_HUB_PASSWORD` | (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) Docker Hub password | `yourpassword` |

---

## üìã –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π

1. –ó–∞–ø—É—à—å—Ç–µ –∫–æ–¥ –≤ `main` –≤–µ—Ç–∫—É
2. GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç workflow
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç —Å–∏—Å—Ç–µ–º—É
4. –ó–∞–¥–µ–ø–ª–æ–∏—Ç (–µ—Å–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã)

### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫

1. –û—Ç–∫—Ä–æ–π—Ç–µ **Actions** –≤ GitHub
2. –í—ã–±–µ—Ä–∏—Ç–µ **Deploy Reflexio 24/7**
3. –ù–∞–∂–º–∏—Ç–µ **Run workflow**
4. –í—ã–±–µ—Ä–∏—Ç–µ –≤–µ—Ç–∫—É –∏ –æ–ø—Ü–∏–∏
5. –ù–∞–∂–º–∏—Ç–µ **Run workflow**

---

## üìä –û—Ç—á—ë—Ç—ã

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è workflow:

- **Artifacts** ‚Äî –æ—Ç—á—ë—Ç—ã –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **Summary** ‚Äî –∫—Ä–∞—Ç–∫–∏–π –æ—Ç—á—ë—Ç –æ –¥–µ–ø–ª–æ–µ
- **Logs** ‚Äî –ø–æ–ª–Ω—ã–µ –ª–æ–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ò–∑–º–µ–Ω–∏—Ç—å Python –≤–µ—Ä—Å–∏—é

–í `.github/workflows/deploy.yml`:
```yaml
env:
  PYTHON_VERSION: '3.11'  # –ò–∑–º–µ–Ω–∏—Ç–µ –Ω–∞ –Ω—É–∂–Ω—É—é –≤–µ—Ä—Å–∏—é
```

### –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å Docker –¥–µ–ø–ª–æ–π

–ü—Ä–∏ —Ä—É—á–Ω–æ–º –∑–∞–ø—É—Å–∫–µ –≤—ã–±–µ—Ä–∏—Ç–µ `skip_docker: true`

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 3 –Ω–æ—è–±—Ä—è 2025











