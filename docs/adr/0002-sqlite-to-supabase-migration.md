# ADR 0002: Миграция с SQLite на Supabase

**Статус:** Принято  
**Дата:** 2024-02-17  
**Авторы:** Команда разработки

## Context

Требовалось масштабирование базы данных для production окружения. SQLite подходит для разработки, но не для production с множественными подключениями и высокой нагрузкой.

## Decision

Реализована поддержка двух бэкендов: SQLite (для разработки) и Supabase PostgreSQL (для production).

**Причины:**
- Supabase предоставляет managed PostgreSQL с автоматическими бэкапами
- Row-Level Security (RLS) для безопасности данных
- Встроенная поддержка real-time подписок
- Простота миграции данных
- Бесплатный tier для начала

## Consequences

**Положительные:**
- Масштабируемость для production
- Безопасность через RLS
- Удобство разработки с SQLite локально
- Единый интерфейс через DatabaseBackend

**Отрицательные:**
- Дополнительная сложность в коде (два бэкенда)
- Зависимость от внешнего сервиса (Supabase)
- Необходимость миграций данных
